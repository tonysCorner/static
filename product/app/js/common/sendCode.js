define(["common/util","common/validator","common/toast"],function(e,t,n){return{sendCode:function(r,i){var s=!0;r.on("click",function(){var o=i.val();if(!s)return;if(t.space(o))return n.toast({content:"手机号不能为空!"}),!1;if(!t.isMobilephone(o))return n.toast({content:"手机号格式错误,请输入11位手机号码"}),!1;s=!1,$.ajax({url:"/ditui/captcha.xhtml?phone="+o,type:"GET",dataType:"json",success:function(e){e.ret.code==0?n.toast({content:"发送成功!"}):n.toast({content:e.ret.msg})},complete:function(){i.attr("readonly",!0),e.countDown(r,60,function(e,t){e.html(t+"s")},function(e){i.removeAttr("readonly"),s=!0,e.html("发送")})}})})}}});